<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
</head>
<body>
<div id="location">
your location will go here.
</div>
<script>function getMyLocation(){
	if(navigator.geolocation){
		navigator.geolocation.getCurrentPosition(displayLocation(),displayError(),options);
		}else{
			alert("Oops,no geolocation support");
			}
	}// JavaScript Document
	function displayLocation(position){
		var latitude=position.coords.latitude;
		var longitude=position.coords.longitude;
		var div=document.getElementById("location");
		div.innerHTML="you are at latitude:"+latitude+",longitude"+longtude;
		}
	function displayError(error){
		var errorTypes={
			0:"Unknown error",
			1:"permission denied by user",
			2:"position is not available",
			3:"request timed out"
			};
			if(error.code==0||error.code==2){
				errorMessage=errorMessage+" "+error.message;
				}
				var div=document.getElementById("location");
				div.innerHTML=errorMessage;
		}
        var options = {
  enableHighAccuracy: true,
  timeout: 5000,
  maximumAge: 0
};
        </script>
<button onclick="getMyLocation()">我的位置</button>
</body>
</html>
